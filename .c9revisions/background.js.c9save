{"ts":1357596110149,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1357596194319,"patch":[[{"diffs":[[1,"var oldChromeVersion = !chrome.runtime;\n\nif (oldChromeVersion) {\n  console.log('detected: old chrome version');\n  onInit();\n} else {\n  console.log('detected: new chrome version');\n  chrome.runtime.onInstalled.addListener(onInit);\n}\n\n\nfunction onInit(){\n    console.log('Background worker running.')\n}"]],"start1":0,"start2":0,"length1":0,"length2":300}]],"length":300,"saved":false}
{"ts":1357596311976,"patch":[[{"diffs":[[0,"runtime;"],[1,"\nvar apiKey = null; // ENTER API KEY HERE\nvar url = 'https://www.googleapis.com/language/translate/v2?target=en&key=' + apiKey + '&q=';"],[0,"\n\nif (ol"]],"start1":31,"start2":31,"length1":16,"length2":151},{"diffs":[[0,"ing.')\n}"],[1,"\n\n\nfunction translateText(text, tweetId) {\n    \n    if (apiKey === null) {\n        alert(\"You must provide your own Google API Key to call the Google Translate Service.\");\n        return;\n    }\n    \n    var request = new XMLHttpRequest();\n    var source = url + text;\n    request.open(\"GET\", source, true);\n    request.onreadystatechange = function() {\n        if (request.readyState == 4 && request.status == 200) {\n            var obj = eval(\"(\" + request.responseText + \")\");\n            var translatedTweetText = obj.data.translations[0].translatedText;\n            \n            var tweet = lookup[tweetId];\n            tweet.translatedText = translatedTweetText;\n            setTweetText(tweetId, translatedTweetText);\n            \n            document.getElementById('translate_' + tweetId).style.display = 'none';\n            document.getElementById('revert_' + tweetId).style.display = '';\n        }\n    };\n    request.send(null);\n}"]],"start1":427,"start2":427,"length1":8,"length2":948}]],"length":1375,"saved":false}
{"ts":1357596886735,"patch":[[{"diffs":[[0," + \")\");"],[1,"  // change this to JSON.parse"],[0,"\n"],[-1,""],[0,"        "]],"start1":905,"start2":905,"length1":17,"length2":47},{"diffs":[[0,"    "],[-1," var tweet = lookup[tweetId];\n            tweet.translatedText = translatedTweetText;\n            setTweetText(tweetId, translatedTweetText);\n            \n            document.getElementById('translate_' + tweetId).style.display = 'none';\n            document.getElementById('revert_' + tweetId).style.display = '';"],[1,"// Send message back to front-end"],[0,"\n   "]],"start1":1043,"start2":1043,"length1":323,"length2":41}]],"length":1123,"saved":false}
{"contributors":[],"silentsave":false,"ts":1357637096121,"patch":[[{"diffs":[[0,"runtime;"],[1,"\r"],[0,"\nvar api"]],"start1":31,"start2":31,"length1":16,"length2":17},{"diffs":[[0,"KEY HERE"],[1,"\r"],[0,"\nvar url"]],"start1":73,"start2":73,"length1":16,"length2":17},{"diffs":[[0,"+ '&q=';"],[-1,"\n"],[1,"\r\n\r"],[0,"\nif (old"]],"start1":168,"start2":168,"length1":17,"length2":19},{"diffs":[[0,"rsion) {"],[1,"\r"],[0,"\n  conso"]],"start1":195,"start2":195,"length1":16,"length2":17},{"diffs":[[0,"rsion');"],[1,"\r"],[0,"\n  onIni"]],"start1":243,"start2":243,"length1":16,"length2":17},{"diffs":[[0,"nInit();"],[1,"\r"],[0,"\n} else "]],"start1":256,"start2":256,"length1":16,"length2":17},{"diffs":[[0,"} else {"],[1,"\r"],[0,"\n  conso"]],"start1":266,"start2":266,"length1":16,"length2":17},{"diffs":[[0,"rsion');"],[1,"\r"],[0,"\n  chrom"]],"start1":314,"start2":314,"length1":16,"length2":17},{"diffs":[[0,"onInit);"],[1,"\r"],[0,"\n}"],[-1,"\n\n"],[1,"\r\n\r\n\r"],[0,"\nfunctio"]],"start1":365,"start2":365,"length1":20,"length2":24},{"diffs":[[0,"nInit(){"],[1,"\r"],[0,"\n    con"]],"start1":392,"start2":392,"length1":16,"length2":17},{"diffs":[[0,"g.')"],[1,"\r"],[0,"\n}"],[-1,"\n\n"],[1,"\r\n\r\n\r"],[0,"\nfun"]],"start1":443,"start2":443,"length1":12,"length2":16},{"diffs":[[0,"eetId) {"],[1,"\r"],[0,"\n    "],[1,"\r"],[0,"\n    if "]],"start1":487,"start2":487,"length1":21,"length2":23},{"diffs":[[0," null) {"],[1,"\r"],[0,"\n       "]],"start1":521,"start2":521,"length1":16,"length2":17},{"diffs":[[0,"vice.\");"],[1,"\r"],[0,"\n       "]],"start1":619,"start2":619,"length1":16,"length2":17},{"diffs":[[0,"urn;"],[1,"\r"],[0,"\n    }"],[1,"\r"],[0,"\n    "],[1,"\r"],[0,"\n   "]],"start1":640,"start2":640,"length1":19,"length2":22},{"diffs":[[0,"quest();"],[1,"\r"],[0,"\n    var"]],"start1":690,"start2":690,"length1":16,"length2":17},{"diffs":[[0," url + text;"],[1,"\r"],[0,"\n    request"]],"start1":716,"start2":716,"length1":24,"length2":25},{"diffs":[[0,", true);"],[1,"\r"],[0,"\n    req"]],"start1":760,"start2":760,"length1":16,"length2":17},{"diffs":[[0,"tion() {"],[1,"\r"],[0,"\n       "]],"start1":807,"start2":807,"length1":16,"length2":17},{"diffs":[[0,"= 200) {"],[1,"\r"],[0,"\n       "]],"start1":872,"start2":872,"length1":16,"length2":17},{"diffs":[[0,"ON.parse"],[1,"\r"],[0,"\n       "]],"start1":965,"start2":965,"length1":16,"length2":17},{"diffs":[[0,"tedText;"],[1,"\r"],[0,"\n       "]],"start1":1045,"start2":1045,"length1":16,"length2":17},{"diffs":[[0,"        "],[1,"\r"],[0,"\n       "]],"start1":1059,"start2":1059,"length1":16,"length2":17},{"diffs":[[0,"ront-end"],[1,"\r"],[0,"\n       "]],"start1":1105,"start2":1105,"length1":16,"length2":17},{"diffs":[[0,"   }"],[1,"\r"],[0,"\n    };"],[1,"\r"],[0,"\n   "]],"start1":1120,"start2":1120,"length1":15,"length2":17},{"diffs":[[0,"d(null);"],[1,"\r"],[0,"\n}"],[1,"\r\n\r\n\r\nchrome.extension.onMessage.addListener(\r\n  function(request, sender, sendResponse) {\r\n    console.log('Recieved ' + request.tweetText + ' from ' + request.tweetId);\r\n    \r\n    sendResponse({tweetId: request.tweetId, translatedText: \"Translated text goes here\"});\r\n  });"]],"start1":1149,"start2":1149,"length1":10,"length2":286}]],"length":1435,"saved":false}
{"ts":1357637128981,"patch":[[{"diffs":[[-1,"var oldChromeVersion = !chrome.runtime;\r\n"],[0,"var "]],"start1":0,"start2":0,"length1":45,"length2":4},{"diffs":[[0,"\r\n\r\n"],[-1,"if (oldChromeVersion) {\r\n  console.log('detected: old chrome version');\r\n  onInit();\r\n} else {\r\n  console.log('detected: new chrome version');\r\n  chrome.runtime.onInstalled.addListener(onInit);\r\n}\r\n\r\n\r\n"],[0,"func"]],"start1":135,"start2":135,"length1":210,"length2":8}]],"length":1192,"saved":false}
{"ts":1357637140456,"patch":[[{"diffs":[[0,"\r\n\r\n"],[-1,"function onInit(){\r\n    "],[0,"cons"]],"start1":135,"start2":135,"length1":32,"length2":8},{"diffs":[[0,"nning.')"],[-1,"\r\n}"],[1,";"],[0,"\r\n\r\n\r\nfu"]],"start1":172,"start2":172,"length1":19,"length2":17}]],"length":1166,"saved":false}
{"ts":1357637248049,"patch":[[{"diffs":[[0,".');\r\n\r\n"],[-1,"\r\n"],[0,"function"]],"start1":177,"start2":177,"length1":18,"length2":16},{"diffs":[[0,"    "],[-1,"// Send message back to front-end"],[1,"sendResponse({tweetId: tweetId, translatedText: translatedTweetText});"],[0,"\r\n  "]],"start1":805,"start2":805,"length1":41,"length2":78},{"diffs":[[0,"    "],[-1,"sendResponse({tweetId: request.tweetId, translatedText: \"Translated text goes here\"});"],[0,"\r\n  "]],"start1":1104,"start2":1104,"length1":94,"length2":8}]],"length":1115,"saved":false}
{"ts":1357637972339,"patch":[[{"diffs":[[0," tweetId"],[1,", sendResponse"],[0,") {\r\n"],[-1,""],[0,"    \r\n  "]],"start1":213,"start2":213,"length1":21,"length2":35},{"diffs":[[0,"j = "],[-1,"eval(\"(\" + "],[1,"JSON.parse("],[0,"requ"]],"start1":643,"start2":643,"length1":19,"length2":19},{"diffs":[[0,"Text"],[-1," + \")\");  // change this to JSON.parse"],[1,");"],[0,"\r\n  "]],"start1":674,"start2":674,"length1":46,"length2":10},{"diffs":[[0,");\r\n    "],[-1,"\r\n    "],[1,"translateText(request.tweetText, request.tweetId, sendResponse)\r\n    return true;"],[0,"\r\n  });"]],"start1":1072,"start2":1072,"length1":21,"length2":96}]],"length":1168,"saved":false}
{"ts":1357637981384,"patch":[[{"diffs":[[0,"        "],[1," "],[0,"sendResp"]],"start1":779,"start2":779,"length1":16,"length2":17}]],"length":1169,"saved":false}
{"ts":1357638005234,"patch":[[{"diffs":[[0,"            "],[1,"console.log('Returning ' + translatedTweetText + ' to sender');"],[0,"\r\n          "]],"start1":762,"start2":762,"length1":24,"length2":87}]],"length":1232,"saved":false}
